<script>
	import {
		__arr__listing__etsy__s3,
		__arr__images__listing__etsy__s3,
	} from './store'
	import {
		_src__img,
		_title,
		_price,
		_description,
		_url,
	} from '@ctx-core/etsy'
</script>

<div class="Store__Etsy">
	{#each $__arr__listing__etsy__s3||[] as listing__etsy__s3, i}
		<div class="listing" title="{_description(listing__etsy__s3)}">
			<div class="img-container">
				{#if _src__img($__arr__images__listing__etsy__s3[i])}
					<img
						src="{_src__img($__arr__images__listing__etsy__s3[i])}"
						alt="{_description(listing__etsy__s3)}"
					>
				{/if}
			</div>
			<div class="title">{@html _title(listing__etsy__s3)}</div>
			<div class="price">{_price(listing__etsy__s3)}</div>
			<a href="{_url(listing__etsy__s3)}" class="buy" target="_blank">Buy on Etsy</a>
		</div>
	{/each}
</div>

<style type="text/scss">
	@import "~@mudhoestudio/css/variables";
	.Store__Etsy {
		display: flex;
		justify-content: center;
		flex-wrap: wrap;
		padding-bottom: 5rem;
		overflow: hidden;
		.listing {
			padding: .5rem;
			display: flex;
			flex-direction: column;
			@media (min-width: $desktop-max) {
				max-width: calc(250px + 1rem);
				min-width: calc(250px + 1rem);
			}
			> * {
				width: 100%;
				&.img-container {
					@media (min-width: $desktop-max) {
						min-height: 250px;
						max-height: 250px;
					}
					img {
						border-radius: 5%;
						width: 100%;
						@media (min-width: $desktop-max) {
							width: 250px;
							height: 250px;
						}
					}
				}
				&.title {
					word-wrap: break-word;
				}
			}
		}
	}
</style>
