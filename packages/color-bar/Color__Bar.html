<div class="Color__Bar">
	<ul class="data">
		{#each order as id__item}
			<li
				class="{classes[values[id__item] || 0]}"
				title={titles[id__item]}
				style="{style__li(weights, id__item)}"
			>
				{representations[id__item]}
			</li>
		{/each}
	</ul>
	<ul
		class="labels {class__labels}"
	>
		{#each order as id__item}
			<li
				class="label"
				title={titles[id__item]}
				style="{style__li(weights, id__item)}"
			>
				<div>{labels[id__item]}</div>
			</li>
		{/each}
	</ul>
</div>

<script>
	import { _class, _style } from '@ctx-core/html/lib.mjs'
	import { log, debug } from '@ctx-core/logger/lib.mjs'
	const logPrefix = '@ctx-core/color-bar/Color__Bar.html'
	export default {
		computed: {
			class__labels: ({ labels }) =>
				_class({ present: labels })
		},
		helpers: {
			style__li(weights, id__item) {
				return _style({
					'-webkit-box-flex': weights[id__item],
					flex: weights[id__item]
				})
			}
		}
	}
</script>

<style type="text/scss">
	.Color__Bar {
		box-sizing: border-box;
		display: block;
		* {
			box-sizing: border-box;
		}
		ul {
			display: -webkit-box;
			display: flex;
			height: 1rem;
			width: 100%;
			margin: 0;
			padding: 0;
			overflow: hidden;
			-webkit-box-align: center;
			-webkit-flex-align: center;
			align-items: center;
			-webkit-box-pack: center;
			justify-content: center;
			text-align: center;
			list-style: none;
			&.labels {
				display: none;
				&.present {
					display: -webkit-box;
					display: flex;
				}
			}
			li {
				-webkit-box-flex: 1;
				flex: 1;
				height: 1rem;
				font-size: 1rem;
				line-height: 1rem;
				padding-top: 0.05em;
				width: auto;
				color: white;
				border-left: 2px solid #FFF;
				&.label {
					position: relative;
					color: #000000;
					font-weight: normal;
					> div {
						position: absolute;
						display: -webkit-box;
						display: flex;
						-webkit-box-align: center;
						-webkit-flex-align: center;
						align-items: center;
						-webkit-box-pack: center;
						-webkit-flex-pack: center;
						justify-content: center;
						width: 100%;
						text-align: center;
						white-space: nowrap;
					}
				}
			}
		}
	}
</style>